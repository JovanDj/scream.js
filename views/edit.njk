{% extends "layout.njk" %}

{% block content %}

<div class="container py-4 px-3 mx-auto">
    <h1>{{ pageTitle }}</h1>

    <form action="{{ action }}" method="POST">
        <div class="mb-3">
            <label for="title" class="form-label">Title</label>
            <input 
                type="text" 
                name="title" 
                class="form-control {% if errors.title %} is-invalid {% endif %}" 
                id="title" 
                value="{{ fields.title }}" 
                aria-describedby="title">

            {% if errors.title %}
                <div class="invalid-feedback">
                    {{ errors.title }}
                </div>
            {% endif %}
        </div>

        <div class="form-check mb-3">
            <input class="form-check-input" type="checkbox" name="completed" value="true" id="completed" {% if fields.completed %}checked{% endif %} data-testid="completed-checkbox">
            <label class="form-check-label" for="completed">
                Completed
            </label>
        </div>

        <button type="submit" class="btn btn-primary">{{ submitLabel }}</button>
    </form>

    <form action="/todos/{{ todoId }}/delete" method="POST" class="mt-3">
        <button type="submit" class="btn btn-danger">Delete</button>
    </form>
</div>

{% endblock content %}
